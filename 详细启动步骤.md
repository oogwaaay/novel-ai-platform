# 🚀 详细启动步骤（一步一步来）

## 第一步：检查前提条件

### 1.1 检查是否安装了 Node.js

1. 按 `Win + R` 键
2. 输入 `cmd`，按回车（会打开黑色命令行窗口）
3. 在命令行输入：
   ```
   node --version
   ```
4. 如果显示版本号（比如 `v18.17.0`），说明已安装 ✅
5. 如果显示"不是内部或外部命令"，需要先安装 Node.js

### 1.2 如果没有 Node.js，先安装

1. 访问：https://nodejs.org/
2. 点击左边的绿色按钮（LTS 版本）
3. 下载安装包（.msi 文件）
4. 双击安装，全部点"下一步"
5. 安装完成后，**重启电脑**
6. 重复 1.1 步骤检查

### 1.3 获取 API Key（二选一）

**选项 A：DeepSeek（推荐，便宜）**
1. 访问：https://platform.deepseek.com/
2. 注册/登录账号
3. 点击"API Keys"
4. 创建新密钥
5. 复制密钥（格式：sk-xxxxxxxxxxxxx）

**选项 B：OpenAI**
1. 访问：https://platform.openai.com/api-keys
2. 注册/登录账号
3. 创建新密钥
4. 复制密钥

---

## 第二步：打开项目文件夹

### 方法 1：使用文件管理器

1. 打开"文件资源管理器"（Win + E）
2. 导航到：`C:\Users\Surface\Desktop\novel-ai-platform`
3. 在地址栏输入 `cmd`，按回车
4. 会打开一个黑色命令行窗口，显示项目路径

### 方法 2：使用命令行

1. 按 `Win + R`，输入 `cmd`，按回车
2. 输入以下命令（每行一个，按回车）：
   ```
   cd C:\Users\Surface\Desktop\novel-ai-platform
   ```

---

## 第三步：安装前端依赖

在命令行窗口（确保在项目文件夹），输入：

```bash
npm install
```

**你会看到**：
- 很多下载信息
- 最后显示 "added XXX packages"
- 可能需要 1-3 分钟

**如果很慢**，可以使用国内镜像：
```bash
npm install --registry=https://registry.npmmirror.com
```

**如果出错**：
- 检查网络连接
- 检查 Node.js 是否正确安装
- 尝试删除 `node_modules` 文件夹后重新安装

---

## 第四步：安装后端依赖

继续在同一个命令行窗口，输入：

```bash
cd backend
npm install
```

**你会看到**：
- 后端依赖开始下载
- 最后显示 "added XXX packages"

**如果很慢**，同样可以使用镜像：
```bash
npm install --registry=https://registry.npmmirror.com
```

---

## 第五步：创建配置文件

### 5.1 找到 backend 文件夹

在文件资源管理器中，打开：
`C:\Users\Surface\Desktop\novel-ai-platform\backend`

### 5.2 创建 .env 文件

**方法 1：使用记事本**
1. 在 backend 文件夹空白处，右键 → 新建 → 文本文档
2. 重命名为 `.env`（注意：前面有个点）
3. 如果提示"更改扩展名可能使文件不可用"，点"是"

**方法 2：使用 VS Code（如果有）**
1. 在 backend 文件夹右键 → 用 VS Code 打开
2. 新建文件，命名为 `.env`

### 5.3 编辑 .env 文件

打开 `.env` 文件，输入以下内容：

**如果使用 DeepSeek（推荐）**：
```
PORT=3001
DEEPSEEK_API_KEY=sk-你的deepseek密钥
JWT_SECRET=随便写个字符串比如abc123xyz
```

**如果使用 OpenAI**：
```
PORT=3001
OPENAI_API_KEY=sk-你的openai密钥
JWT_SECRET=随便写个字符串比如abc123xyz
```

**重要**：
- 把 `sk-你的deepseek密钥` 替换成你实际复制的密钥
- `JWT_SECRET` 可以随便写，比如 `my-secret-key-12345`
- 保存文件（Ctrl + S）

---

## 第六步：启动后端服务器

### 6.1 确保在 backend 文件夹

在命令行窗口，确保显示：
```
C:\Users\Surface\Desktop\novel-ai-platform\backend>
```

如果不是，输入：
```bash
cd C:\Users\Surface\Desktop\novel-ai-platform\backend
```

### 6.2 启动后端

输入：
```bash
npm run dev
```

**你会看到**：
```
Server running on http://localhost:3001
```

**说明**：
- ✅ 后端启动成功！
- ⚠️ **保持这个窗口打开**，不要关闭
- 如果看到错误，检查 `.env` 文件是否正确

**常见错误**：
- "Cannot find module" → 运行 `npm install` 重新安装
- "Port 3001 is already in use" → 关闭占用端口的程序
- "Invalid API Key" → 检查 `.env` 文件中的 API Key 是否正确

---

## 第七步：启动前端（新开窗口）

### 7.1 打开新的命令行窗口

**方法 1**：
1. 再打开一个文件资源管理器
2. 导航到项目文件夹
3. 在地址栏输入 `cmd`，按回车

**方法 2**：
1. 按 `Win + R`，输入 `cmd`，按回车
2. 输入：
   ```
   cd C:\Users\Surface\Desktop\novel-ai-platform
   ```

### 7.2 启动前端

在新窗口中输入：
```bash
npm run dev
```

**你会看到**：
```
  VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:3000/
  ➜  Network: use --host to expose
```

**说明**：
- ✅ 前端启动成功！
- ⚠️ **保持这个窗口也打开**
- 网站地址：http://localhost:3000

---

## 第八步：打开网站

### 8.1 打开浏览器

使用 Chrome、Edge 或 Firefox 都可以

### 8.2 访问网站

在地址栏输入：
```
http://localhost:3000
```

按回车

### 8.3 你应该看到

- 紫色渐变背景
- "Novel AI - AI Novel Generator" 标题
- 导航菜单
- "Start Writing Free" 按钮

---

## 第九步：测试功能

### 9.1 进入生成器页面

1. 点击 "AI Novel Generator" 或 "Start Writing Free"
2. 会跳转到生成页面

### 9.2 填写信息

1. **选择类型**：比如 "General Fiction"
2. **输入故事想法**（至少 30 个字），例如：
   ```
   一个年轻的侦探在一个海滨小镇调查一系列神秘失踪案件时，发现了一个隐藏的阴谋。
   随着调查深入，他发现这个小镇隐藏着不为人知的秘密，而真相远比想象中更加复杂。
   ```
3. **调整长度**：拖动滑块，比如 100 页

### 9.3 生成小说

1. 点击 "Generate Full Length Book"
2. 等待生成（可能需要 30 秒到 2 分钟）
3. 如果成功，会显示生成的小说内容

**如果看到生成的小说**：
- ✅ 恭喜！一切正常！

**如果看到错误**：
- 检查后端服务器是否在运行
- 检查 API Key 是否正确
- 查看浏览器控制台（F12）的错误信息

---

## 常见问题解决

### 问题 1：端口被占用

**错误**：`Port 3000 is already in use`

**解决**：
1. 关闭占用端口的程序
2. 或者修改端口（在 `vite.config.ts` 中）

### 问题 2：找不到模块

**错误**：`Cannot find module 'xxx'`

**解决**：
```bash
# 删除 node_modules 重新安装
rmdir /s node_modules
npm install
```

### 问题 3：API 调用失败

**错误**：`Failed to generate novel`

**检查清单**：
- ✅ `.env` 文件是否存在
- ✅ API Key 是否正确（没有多余空格）
- ✅ 后端服务器是否在运行（http://localhost:3001）
- ✅ API 账号是否有余额

### 问题 4：页面空白

**解决**：
1. 检查前端是否运行（看命令行窗口）
2. 按 `Ctrl + F5` 强制刷新
3. 打开浏览器开发者工具（F12）查看错误

### 问题 5：生成很慢或失败

**可能原因**：
- API Key 无效
- 网络问题
- API 账号余额不足

**解决**：
1. 检查 API Key 是否正确
2. 检查网络连接
3. 在 API 平台检查余额

---

## 停止服务器

当你想停止时：

1. **停止前端**：在运行 `npm run dev` 的窗口，按 `Ctrl + C`，然后输入 `Y` 确认
2. **停止后端**：在运行后端服务器的窗口，按 `Ctrl + C`，然后输入 `Y` 确认

---

## 快速检查清单

在开始之前，确保：

- [ ] Node.js 已安装（`node --version` 有输出）
- [ ] 已获取 API Key（DeepSeek 或 OpenAI）
- [ ] 已创建 `.env` 文件
- [ ] `.env` 文件中 API Key 正确
- [ ] 两个命令行窗口都打开了
- [ ] 后端服务器显示 "Server running on http://localhost:3001"
- [ ] 前端服务器显示 "Local: http://localhost:3000"

---

## 需要帮助？

如果卡在某一步：

1. **告诉我具体在哪一步**
2. **复制错误信息给我**
3. **检查上面的"常见问题解决"**

我会帮你解决！

---

## 成功标志

如果一切正常，你应该：

✅ 看到漂亮的网站界面
✅ 能够填写故事想法
✅ 能够生成小说
✅ 看到生成的小说内容

恭喜！项目启动成功！🎉

